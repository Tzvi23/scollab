@model StudentCollab.Models.User
@using StudentCollab.Models

@{
    ViewBag.Title = "My Profile";
    Layout = "~/Views/Shared/_MainPageLayout.cshtml";
}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

Design by Free CSS Templates
http://csstemplatesforfree.com
Released for free under a Creative Commons Attribution 2.5 License

Title      : Embouteillage
Version    : 1.0
Released   : 200800204
Description: Three-column blog design with the third column allocated for <b>ads</b>. Features Web 2.0 design ideal for 1024x768 resolutions.

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
</head>
<body>
    <!-- start header -->
    <div id="wrapper">
        <div id="header">
            <div id="logo" style="flex">
                <h1><a href="#">StudyCollab</a></h1>
                <p><a href="#">Learn from the best</a></p>
            </div>
        </div>
        <!-- end header -->
        <!-- star menu -->
        <div id="menu">
            <ul>
                <li class="current_page_item"><a href="@Url.Action("MainPage", "MainPage", Model)">Home</a></li>
                <li class="current_page_item"><a href="@Url.Action("UploadFile","MainPage",Model)">Upload now</a></li>
                <li><a href="#">Recent followers upload</a></li>
                <li><a href="#">My profile</a></li>
                <li><a href="#">User Logged: @Model.UserName</a></li>
                @if (Model.rank == 0)
                {
                    <li><a href="@Url.Action("AdminPage","MainPage")">Admin Page</a></li>
                }
                @if (!Model.UserName.Equals("None"))
                {
                    <li><a href="@Url.Action("logout", "MainPage")">log out</a></li>
                }
            </ul>
        </div>
        <!-- end menu -->
        <!-- start page -->
        <div id="page">
            <table>
                <tr>
                    <td><h3>User Name: </h3></td>
                    <td><h3 style="color:white">@Model.UserName</h3></td>
                </tr>
                <tr>
                    <td><h3>Email: </h3></td>
                    <td><h3>@Model.Email</h3></td>
                </tr>
                <tr>
                    <td><h3>First Name: </h3></td>
                    <td><h3>@Model.FirstName</h3></td>
                </tr>
                <tr>
                    <td><h3>Last Name: </h3></td>
                    <td><h3>@Model.LastName</h3></td>
                </tr>
                <tr>
                    <td><h3>Institution: </h3></td>
                    @if (Model.institution == null)
                    {
                        <td><h3>Unknown</h3></td>
                    }
                    @if (Model.institution != null)
                    {
                        <td><h3>@Model.institution</h3></td>
                    }
                </tr>
                <tr>
                    <td><h3>Year: </h3></td>
                    @if (Model.year == null)
                    {
                        <td><h3>Unknown</h3></td>
                    }
                    @if (Model.year != null)
                    {
                        <td><h3>@Model.year</h3></td>

                    }
                </tr>
                <tr>
                    <td><h3>Rating: @Model.Likes</h3></td>
                </tr>
            </table>

            <form class="login100-form validate-form" action="~/MainPage/EditProfile" method="post">
                <div class="container-login100-form-btn p-t-10">
                    <button class="login100-form-btn" type="submit">
                        Edit
                    </button>
                </div>

            </form>
            <b /><b />
            <table class="table table-bordered" style="border-color:red">
                <thead>FIles upladed:</thead>
                <tbody>
                    <tr>
                        <td><h3>#</h3></td>
                        <td><h3>Uploader name</h3></td>
                        <td><h3>File name</h3></td>
                        <td><h3>Download</h3></td>
                        <td><h3>Delete</h3></td>
                    </tr>
                    @{
                        int i = 1;
                        foreach (Files file in TempData["FilesTable"]){
                            if (file.Active == true)
                            {
                                <tr>
                                    <td>@(i++)</td>
                                    <td>@file.UploaderName</td>
                                    <td>@file.FileName</td>
                                    <td>
                                        @Html.ActionLink("Down Load", "Downloader", new { id = file.UploadNum })
                                    </td>
                                    <td><a href="@Url.Action("DeleteFile", "MainPage", new { id = file.UploadNum })">Delete</a></td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
        <!-- end page -->
        <!-- start footer -->
        <div id="footer">
            <p class="legal">
                &copy;2019 Sce-Group11. All Rights Reserved.
                &nbsp;&nbsp;&bull;&nbsp;&nbsp;
                Design by <a href="#">Team_11</a>
                &nbsp;&nbsp;&bull;&nbsp;&nbsp;
                Icons by <a href="#">real_photos</a>.
            </p>
            <!-- end footer -->
        </div>
    </div>
</body>
</html>
